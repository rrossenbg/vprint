@using System
@using System.Linq
@using System.Collections.Generic
@using FintraxPTFImages.Models
@using FintraxPTFImages.ScanServiceRef
@using GridMvc
@using GridMvc.Html
@model SearchModel2
@{
    ViewBag.Title = "Search";
    Layout = "~/Views/SharxPTFImages.Models.SearchModel2\u0027 does not contain a definition for \u0027Voucher\u0027 and no extension method \u0027Voucher\u0027 accepting a first argument of type \u0027FintraxPTFImages.Models.SearchModel2\u0027 could be found (are you missing a using directive or an assembly reference?)"ed/_Layout.cshtml";
}
@section style_declarations {
    <style type="text/css">
        p
        {
            display: inline;
        }
    </style>
}
@section script_declarations{

}
@using (Html.BeginForm("SearchByNumber", "Voucher", FormMethod.Post))
{
    @Html.ValidationSummary(true)
    <table>
        <tr>
            <td>
                <label>
                    Country</label>@Html.DropDownListFor(model => model.Country, (IEnumerable<SelectListItem>)ViewData["CountryList"], new { style = "width: 185px" })
                    @Html.ValidationMessageFor(model => model.Country)
            </td>
            <td>
                <label>
                    Voucher</label>
                    @Html.TextBoxFor(model => model.Voucher, new { style = "display:none; width: 185px;" })
                    @Html.ValidationMessageFor(model => model.Voucher)
            </td>
        </tr>
        <tr>
            <td>
                &nbsp;
            </td>
            <td>
                &nbsp;
            </td>
            <td>
                <input type="submit" value="Search" />
            </td>
        </tr>
    </table>
}
@{
    <div style="width: 600px;">
        @Html.Grid((IEnumerable<VoucherInfo>)ViewData["VoucherList"]).Columns(columns =>
   {
       columns.Add(c => c.Id).Titled("ID").Sanitized(false).Encoded(false)
            .RenderValueAs(c => Html.ActionLink("Show", "Show", "Voucher", new { Id = c.Id }, null).ToHtmlString());
       columns.Add(c => c.Number).Titled("Number").Filterable(true);
       columns.Add(c => c.SiteCode).Titled("SiteCode").Filterable(true);
       columns.Add(c => c.BarCode).Titled("BarCode");
       columns.Add(c => c.ScanDate).Titled("ScanDate").Filterable(true);
       columns.Add(c => c.Location).Titled("Location").Filterable(true);
       columns.Add(c => c.OperatorId).Titled("OperatorId").Filterable(true);
       columns.Add(c => c.SessionId).Titled("SessionId");
   }).WithPaging(10).Sortable(true)
    </div>
}
